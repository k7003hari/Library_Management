validateR(form: NgForm) {
  if (!this.selectedRole) {
    alert('Please select a role!');
    return;
  }

  const formData = form.value;
  const registerUser: RegisterUser = {
    username: formData.name,
    email: formData.email,
    password: formData.password,
    roles: this.selectedRole
  };

  // 1. Register the user (Auth)
  this.authService.register(registerUser).subscribe({
    next: (response) => {
      console.log('User registered in Auth:', response);

      if (this.selectedRole === 'member') {
        const memberData = {
          name: formData.name,
          email: formData.email,
          phone: 'N/A',        // Add proper phone field in form if needed
          address: 'N/A',      // Add address field too
          membershipStatus: 'Active'  // Default status
        };

        // 2. Add the member in Library system
        this.authService.addMember(memberData).subscribe({
          next: (res) => {
            console.log('Member stored in Library DB:', res);
            alert('Member Registered Successfully!');
            this.router.navigate(['/login']);
          },
          error: (err) => {
            console.error('Member saving failed:', err);
            alert('User created, but member saving failed!');
          }
        });

      } else if (this.selectedRole === 'admin') {
        alert('Admin Registered Successfully!');
        this.router.navigate(['/login']);
      }
    },
    error: (err) => {
      console.error('Auth registration failed:', err);
      alert('Registration failed. Please try again.');
    }
  });
}


<!-- Phone -->
<div class="d-flex flex-row align-items-center mb-4">
  <i class="fas fa-phone fa-lg me-3 fa-fw"></i>
  <div class="form-outline flex-fill mb-0">
    <input ngModel name="phone" type="text" class="form-control" />
    <label class="form-label">Phone</label>
  </div>
</div>

<!-- Address -->
<div class="d-flex flex-row align-items-center mb-4">
  <i class="fas fa-location-dot fa-lg me-3 fa-fw"></i>
  <div class="form-outline flex-fill mb-0">
    <input ngModel name="address" type="text" class="form-control" />
    <label class="form-label">Address</label>
  </div>
</div>


const memberData = {
  name: formData.name,
  email: formData.email,
  phone: formData.phone,
  address: formData.address,
  membershipStatus: 'Active'
};
